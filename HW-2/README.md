# Customer Appeal Service

FastAPI сервис для сбора обращений абонентов.

## Установка зависимостей

```bash
pip install -r requirements.txt
```

## Запуск сервиса

```bash
python main.py
```

Сервис будет доступен по адресу: http://localhost:8000

## API Endpoints

### POST /appeals/
Создание нового обращения абонента.

**Параметры:**
- `surname` (string) — фамилия (с заглавной буквы, только кириллица)
- `name` (string) — имя (с заглавной буквы, только кириллица)
- `birth_date` (date) — дата рождения (формат YYYY-MM-DD)
- `phone` (string) — номер телефона (от 10 до 15 цифр, допускаются +, пробелы, дефисы, скобки)
- `email` (string) — email адрес
- `reason` (string, enum) — причина обращения (одно из: "нет доступа к сети", "не работает телефон", "не приходят письма")
- `problem_detected_at` (datetime) — дата и время обнаружения проблемы (формат YYYY-MM-DDTHH:MM:SS или с миллисекундами)

**Пример запроса:**
```json
{
  "surname": "Иванов",
  "name": "Иван",
  "birth_date": "1990-01-01",
  "phone": "+7 (999) 123-45-67",
  "email": "ivan@example.com",
  "reason": "нет доступа к сети",
  "problem_detected_at": "2025-07-05T14:27:50.890Z"
}
```

### GET /appeals/
Получение всех сохранённых обращений.

## Валидация данных

- Фамилия и имя должны начинаться с заглавной буквы и содержать только кириллические символы
- Дата рождения — формат YYYY-MM-DD
- Номер телефона — от 10 до 15 цифр, допускаются +, пробелы, дефисы, скобки
- Email должен быть валидным
- Причина обращения — только одно из допустимых значений
- Дата и время обнаружения проблемы — формат ISO8601 (YYYY-MM-DDTHH:MM:SS или с миллисекундами)

## Хранение данных

Все обращения сохраняются в папке `appeals/` в формате JSON файлов. 